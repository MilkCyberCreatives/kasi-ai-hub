@tailwind base;
@tailwind components;
@tailwind utilities;

/* ------------------------------------------------------------------ */
/* Root theme & sensible defaults                                     */
/* ------------------------------------------------------------------ */
:root {
  --brand-primary: #6cf0a8;
  /* Fallback header height (overridden by MainHeader inline <style>) */
  --header-h: 64px;
}

html,
body {
  @apply h-full bg-[#0a0f1a] text-white antialiased;
}

body {
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  overflow-x: hidden;
}

/* Respect device safe areas (iOS notch, etc.) */
.safe-px {
  padding-left: max(1rem, env(safe-area-inset-left));
  padding-right: max(1rem, env(safe-area-inset-right));
}

/* Section rhythm */
.section {
  @apply py-10 md:py-14;
}

/* Max width container (intentionally not using Tailwind's built-in .container) */
.container {
  @apply mx-auto max-w-7xl safe-px;
}

/* Glass effect tuned for mobile GPUs */
.glass {
  @apply bg-white/5 border border-white/10 backdrop-blur-md;
}

/* Accessible focus ring */
a:focus-visible,
button:focus-visible,
input:focus-visible,
select:focus-visible,
textarea:focus-visible {
  @apply outline-none ring-2 ring-[var(--brand-primary)] ring-offset-2 ring-offset-[#0a0f1a] rounded-md;
}

/* Media elements never overflow */
img,
svg,
video {
  max-width: 100%;
  height: auto;
}

/* Long text never breaks layout */
.prose,
.copy {
  overflow-wrap: anywhere;
  word-break: break-word;
}

/* Honor reduced motion */
@media (prefers-reduced-motion: reduce) {
  * {
    animation: none !important;
    transition: none !important;
    scroll-behavior: auto !important;
  }
}

/* Prevent weird auto-zoom/scaling on some Android browsers */
@supports (-webkit-touch-callout: none) {
  html {
    -webkit-text-size-adjust: 100%;
  }
}

/* ------------------------------------------------------------------ */
/* Mobile polish (non-destructive): up to 480px                       */
/* ------------------------------------------------------------------ */
@media (max-width: 480px) {
  /* Slightly narrower base padding for very small phones */
  .px-4 {
    padding-left: 0.875rem !important;
    padding-right: 0.875rem !important;
  }

  /* Trim long sections a touch */
  .py-14 {
    padding-top: 2.25rem !important;
    padding-bottom: 2.25rem !important;
  }

  /* Card banner images used across pages */
  .h-44 {
    height: 9.5rem !important;
  }

  /* Heading scale so titles don’t crowd */
  h1 {
    font-size: clamp(24px, 7vw, 34px);
    line-height: 1.15;
  }
  h2 {
    font-size: clamp(18px, 5.6vw, 26px);
    line-height: 1.2;
  }

  /* Slightly lighter blur is friendlier on low-end GPUs */
  .glass {
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    border-color: rgba(255, 255, 255, 0.10);
  }

  /* Tighten common gaps */
  .gap-6 {
    gap: 1rem !important;
  }
  .gap-10 {
    gap: 1.25rem !important;
  }

  /* Force single-column grids when space is tight */
  .md\:grid-cols-2,
  .md\:grid-cols-3,
  .lg\:grid-cols-3,
  .lg\:grid-cols-4 {
    grid-template-columns: 1fr !important;
  }

  /* Allow CTA text to wrap instead of overflowing */
  a,
  button {
    white-space: normal;
  }

  /* Anchor jump targets won’t hide under the fixed header */
  :target {
    scroll-margin-top: 76px;
  }
}

/* Micro phones (≤360px) */
@media (max-width: 360px) {
  .px-4 {
    padding-left: 0.75rem !important;
    padding-right: 0.75rem !important;
  }
  .py-14 {
    padding-top: 2rem !important;
    padding-bottom: 2rem !important;
  }
  .h-44 {
    height: 8.75rem !important;
  }
  h1 {
    font-size: clamp(22px, 7.6vw, 30px);
  }
  h2 {
    font-size: clamp(17px, 5.8vw, 24px);
  }
}

/* ------------------------------------------------------------------ */
/* Small screens (≤640px): global tweaks that keep desktop identical  */
/* ------------------------------------------------------------------ */
@media (max-width: 640px) {
  .glass {
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
  }
  .mt-10 {
    margin-top: 2rem !important;
  }
  .py-10 {
    padding-top: 2.25rem !important;
    padding-bottom: 2.25rem !important;
  }
  .h-44 {
    height: 9.5rem !important;
  }
  a,
  button {
    white-space: normal;
  }
}

/* ------------------------------------------------------------------ */
/* Breadcrumb safety: keeps content clear of the fixed header         */
/* Apply className="breadcrumb-safe" to any hero/breadcrumb section   */
/* (BreadcrumbHero already does this via inline padding)              */
/* ------------------------------------------------------------------ */
.breadcrumb-safe {
  padding-top: calc(var(--header-h, 64px) + 12px) !important;
}
